<%= render partial: "result", locals: {members: @members, results: @results} %>

<p>ユーザー検索</p>
<%= search_form_for @q, url: staffs_members_path do |f| %>
  <div>
    <%= f.label :id_eq, 'ユーザーID' %>
    <%= f.search_field :id_eq %>
  </div>
  <div>
    <%= f.label :nickname_cont, 'ユーザー名' %>
    <%= f.search_field :nickname_cont %>
  </div>
  <div>
    <%= f.label :email_cont, 'email' %>
    <%= f.search_field :email_cont %>
  </div>
  <br>
  <%= f.submit '検索' %>
<% end %>
<br>

<%= paginate @members %>
<table border="1">
    <tr>
      <th><%= sort_link(@q, :id, "id", hide_indicator: true) %></th>
      <th><%= sort_link(@q, :nickname, "nickname", hide_indicator: true) %></th>
      <th><%= sort_link(@q, :email, "email", hide_indicator: true) %></th>
    </tr>

    <% @members.each do |member| %>
      <tr>
        <td><%= member.id %></td>
        <td><%= member.nickname %></td>
        <td><%= member.email %></td>
      </tr>
    <% end %>
</table>
<br>
<%= paginate @members %>

<%= link_to 'member一覧', staffs_members_path %>